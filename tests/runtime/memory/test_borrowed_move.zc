// REQUIRE: TYPECHECK
// EXPECT: FAIL
struct Mover {
    val: int
}

impl Drop for Mover {
    fn drop(self) {
        println "dropping mover";
    }
}

fn consume(m: Mover) {
    println "m.val = {m.val}";
}

fn sussy_borrow(m: Mover*) {
    consume(*m);
}

fn main() {
    let m = Mover { val: 1 };
    sussy_borrow(&m);
    m.val++;
    println "m.val = {m.val}";
    return 0;
}
