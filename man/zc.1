.TH ZC 1 "2026-01-15" "Zen C 0.1.0" "User Commands"
.SH NAME
zc \- Zen C compiler and toolchain
.SH SYNOPSIS
.B zc
.I command
[\fIoptions\fR]
.I file.zc
.SH DESCRIPTION
.B zc
is the compiler for Zen C, a modern systems programming language that compiles to
human-readable GNU C/C11. It provides type inference, pattern matching, generics,
traits, async/await, and manual memory management with RAII capabilities while
maintaining 100% C ABI compatibility.
.SH COMMANDS
.TP
.B run
Compile and execute the program immediately.
.TP
.B build
Compile to an executable file (default mode).
.TP
.B check
Check for syntax and semantic errors only; do not compile.
.TP
.B repl
Start the interactive Read-Eval-Print Loop.
.TP
.B transpile
Transpile to C code only without compiling to an executable.
.TP
.B lsp
Start the Language Server Protocol daemon for editor integration.
.SH REPL COMMANDS
When running in
.B repl
mode, the following commands are available:
.TP
.B :help
Show available commands.
.TP
.B :reset
Clear current session history (variables/functions).
.TP
.B :vars
Show active variables.
.TP
.B :funcs
Show user-defined functions.
.TP
.B :structs
Show user-defined structs.
.TP
.B :imports
Show active imports.
.TP
.B :history
Show session input history.
.TP
.BR :type " " \fIexpr\fR
Show the inferred type of an expression.
.TP
.BR :c " " \fIstmt\fR
Show the generated C code for a statement.
.TP
.BR :time " " \fIexpr\fR
Benchmark an expression (runs 1000 iterations).
.TP
.BR :edit " " [\fIn\fR]
Edit command \fIn\fR (default: last) in $EDITOR.
.TP
.BR :save " " \fIfile\fR
Save the current session to a .zc file.
.TP
.BR :load " " \fIfile\fR
Load and execute a .zc file into the session.
.TP
.BR :watch " " \fIexpr\fR
Watch an expression (re-evaluated after every entry).
.TP
.BR :unwatch " " \fIn\fR
Remove a watch.
.TP
.B :undo
Remove the last command from the session.
.TP
.BR :delete " " \fIn\fR
Remove command at index \fIn\fR.
.TP
.B :clear
Clear the screen.
.TP
.B :quit
Exit the REPL.
.TP
.BR ! " " \fIcmd\fR
Run a shell command (e.g. !ls).
.SH OPTIONS
.TP
.BR \-o " " \fIfile\fR
Specify output executable name.
.TP
.B \-\-emit\-c
Keep the generated C file (out.c) after compilation.
.TP
.B \-\-keep\-comments
Preserve comments in the generated C output.
.TP
.B \-\-freestanding
Enable freestanding mode (no standard library).
.TP
.BR \-\-cc " " \fIcompiler\fR
Select C compiler backend (gcc, clang, tcc, zig). Default: gcc
.TP
.BR \-O \fIlevel\fR
Set optimization level (0-3, s, fast).
.TP
.B \-g
Include debug information in the output.
.TP
.BR \-v ", " \-\-verbose
Enable verbose output.
.TP
.BR \-q ", " \-\-quiet
Suppress non-error output.
.TP
.B \-c
Compile only; produce object file (.o) without linking.
.TP
.B \-\-json
Emit diagnostics as JSON objects for tool integration.
.TP
.B \-\-no-zen
Disable the introductory Zen Facts message.
.TP
.B \-\-cpp
Use C++ mode for compilation.
.TP
.B \-\-objective-c
Use Objective-C mode for compilation.
.TP
.B \-\-cuda
Use CUDA mode (requires nvcc).
.SH ENVIRONMENT
.TP
.B ZC_ROOT
Specifies the location of the Zen C standard library. If unset, searches in
./std/, /usr/local/share/zenc/, and /usr/share/zenc/.
.SH EXAMPLES
.TP
Compile and run a program:
.nf
.B zc run hello.zc
.fi
.TP
Build an optimized executable:
.nf
.B zc build app.zc \-o myapp \-O3
.fi
.TP
Transpile to C code:
.nf
.B zc transpile source.zc \-o output.c
.fi
.TP
Use Clang as backend:
.nf
.B zc build app.zc \-\-cc clang
.fi
.SH EXIT STATUS
Returns 0 on success, 1 on compilation error, or non-zero on execution failure (run mode).
.SH FILES
.TP
.I out.c
Temporary C file generated during compilation (removed unless \-\-emit\-c is specified).
.TP
.I /usr/share/zenc/
Default standard library location.
.TP
.I ~/.config/zc/
User configuration directory (future use).
.SH SEE ALSO
.BR zc (5),
.BR zenc (7),
.BR gcc (1),
.BR clang (1)
.SH BUGS
Report bugs at: https://github.com/z-libs/Zen-C/issues
.SH AUTHORS
The Zen C development team.
